(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{107:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return s}));var n=a(3),r=a(7),i=(a(0),a(123)),o={id:"routes",title:"Routes",sidebar_label:"Routes",slug:"routes"},c={unversionedId:"routes",id:"routes",isDocsHomePage:!1,title:"Routes",description:"A route (IRoute) represents the code you want to run and the conditions under which you want it to be run. Any method or function you want to execute must be asynchronous (returns a Task) and take a single parameter of type IHttpContext.",source:"@site/docs\\gv-routes.md",slug:"/routes",permalink:"/grapevine/docs/routes",editUrl:"https://github.com/scottoffen/grapevine-docs/edit/master/docs/gv-routes.md",version:"current",sidebar_label:"Routes",sidebar:"someSidebar",previous:{title:"Building The Rest Server",permalink:"/grapevine/docs/startup"},next:{title:"Route Scanner",permalink:"/grapevine/docs/route-scanner"}},l=[{value:"Creating A Route From A Lambda",id:"creating-a-route-from-a-lambda",children:[]},{value:"Creating A Route From A Function",id:"creating-a-route-from-a-function",children:[]},{value:"Creating A Route From A Method",id:"creating-a-route-from-a-method",children:[{value:"Instance Method",id:"instance-method",children:[]},{value:"Static Method",id:"static-method",children:[]}]},{value:"Specifying An Http Method",id:"specifying-an-http-method",children:[]},{value:"Specifying A Route Template",id:"specifying-a-route-template",children:[{value:"Using Literal Strings",id:"using-literal-strings",children:[]},{value:"Using Regular Expressions",id:"using-regular-expressions",children:[]},{value:"Using Parameterized Strings",id:"using-parameterized-strings",children:[]},{value:"Route Parameter Constraints",id:"route-parameter-constraints",children:[]}]},{value:"Accessing Route Parameter Values",id:"accessing-route-parameter-values",children:[]},{value:"Limit Route Matching Using Headers",id:"limit-route-matching-using-headers",children:[]},{value:"Enable And Disable Routes",id:"enable-and-disable-routes",children:[]},{value:"Route Name and Description",id:"route-name-and-description",children:[]}],b={toc:l};function s(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"A route (",Object(i.b)("inlineCode",{parentName:"p"},"IRoute"),") represents the code you want to run and the conditions under which you want it to be run. Any method or function you want to execute must be asynchronous (returns a ",Object(i.b)("inlineCode",{parentName:"p"},"Task"),") and take a single parameter of type ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/grapevine/docs/http-context"}),Object(i.b)("inlineCode",{parentName:"a"},"IHttpContext")),"."),Object(i.b)("p",null,"A route requires three things:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"The code to execute"),Object(i.b)("li",{parentName:"ol"},"The the HTTP method (",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/grapevine/docs/http-methods"}),Object(i.b)("inlineCode",{parentName:"a"},"HttpMethod")),")"),Object(i.b)("li",{parentName:"ol"},"A route template")),Object(i.b)("p",null,"If the method is omitted, the route is assigned the default method ",Object(i.b)("inlineCode",{parentName:"p"},"HttpMethod.Any"),", which, as the name suggests, will match any HTTP method."),Object(i.b)("p",null,"If the route template is omitted, the route is assigned a default template that will match for any endpoint and no endpoint."),Object(i.b)("p",null,"Omitting both the method or the route template when creating a route will result in the creation of a catch-all route, which may or may not be desireable."),Object(i.b)("p",null,"The router will pass the ",Object(i.b)("inlineCode",{parentName:"p"},"IHttpContext")," to the method ",Object(i.b)("inlineCode",{parentName:"p"},"IRoute.Matches(IHttpContext context)")," to determine if the route should be executed or not. If the HTTP method on the request matches and the endpoint matches the route template (as well as any header matches that are defined), the method will be executed."),Object(i.b)("h2",{id:"creating-a-route-from-a-lambda"},"Creating A Route From A Lambda"),Object(i.b)("p",null,"You can create a route from a lambda expression:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(async (context) =>\n{\n    await context.Response.SendResponseAsync("route from lambda expression");\n}, "Get", "/lambda"));\n')),Object(i.b)("h2",{id:"creating-a-route-from-a-function"},"Creating A Route From A Function"),Object(i.b)("p",null,"You can generate a route using a ",Object(i.b)("inlineCode",{parentName:"p"},"Func<IHttpContext, Task>"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'Func<IHttpContext, Task> callback = async (context) =>\n{\n    await context.Response.SendResponseAsync("route from func");\n};\n\nvar route = new Route(callback, "Get", "/function");\n')),Object(i.b)("h2",{id:"creating-a-route-from-a-method"},"Creating A Route From A Method"),Object(i.b)("p",null,"Routes can be generated from both static and instance methods. Instance methods must be on a class that can be instantiated."),Object(i.b)("h3",{id:"instance-method"},"Instance Method"),Object(i.b)("p",null,"When using an instance method, we will generate a route with a generic parameter."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'public class TestResource\n{\n    public async Task TestRoute(IHttpContext context)\n    {\n        await context.Response.SendResponseAsync("route from method");\n    }\n}\n\nvar methodInfo = typeof(TestResource).GetMethod("TestRoute");\nvar route = new Route<TestResource>(methodInfo, "Get", "/instance-method");\n')),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Best practice is to use the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/grapevine/docs/route-scanner"}),"Route Scanner")," to generate routes from methods in classes."))),Object(i.b)("h3",{id:"static-method"},"Static Method"),Object(i.b)("p",null,"When generating a route from a static method, you assign the static method like you would a delegate."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'public static class StaticTestResource\n{\n    public static async Task StaticTestRoute(IHttpContext context)\n    {\n        await context.Response.SendResponseAsync("route from static method");\n    }\n}\n\nvar route = new Route(StaticTestResource.StaticTestRoute, "Get", "/static-method");\n')),Object(i.b)("h2",{id:"specifying-an-http-method"},"Specifying An Http Method"),Object(i.b)("p",null,"The ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/grapevine/docs/http-methods"}),Object(i.b)("inlineCode",{parentName:"a"},"HttpMethod"))," helper class can be used to specify the method for matching routes. It contains a number of static properties that ensure consistency."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(callback, HttpMethod.Get, "/some/path");\n')),Object(i.b)("p",null,"In order to avoid ambiguity between ",Object(i.b)("inlineCode",{parentName:"p"},"Grapevine.HttpMethod")," and ",Object(i.b)("inlineCode",{parentName:"p"},"System.Net.Http.HttpMethod"),", you can also use a string to specify the method. It will be implicity converted to an instance of ",Object(i.b)("inlineCode",{parentName:"p"},"HttpMethod"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(callback, "Get", "/some/path");\n')),Object(i.b)("h2",{id:"specifying-a-route-template"},"Specifying A Route Template"),Object(i.b)("p",null,"A route template is generated from a string that defines the pattern. This pattern can be a literal string, a regular expression string, or a parameterized string. Literal and parameterized strings are case insensative matches. Regular expression strings are only case insensative if defined in the regular expression."),Object(i.b)("h3",{id:"using-literal-strings"},"Using Literal Strings"),Object(i.b)("p",null,"This is the most straight forward approach. In the example below, this route will execute when the endpoint is ",Object(i.b)("inlineCode",{parentName:"p"},"/some/path"),"."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(callback, "Any", "/some/path");\n')),Object(i.b)("h3",{id:"using-regular-expressions"},"Using Regular Expressions"),Object(i.b)("p",null,"You can express the route template as a regular expression string or as a ",Object(i.b)("inlineCode",{parentName:"p"},"Regex")," instance. The ",Object(i.b)("inlineCode",{parentName:"p"},"Route")," constructor will treat the route template string as a regular expression if it begins with a caret (",Object(i.b)("inlineCode",{parentName:"p"},"^"),")."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var expr = @"^/users/(\\d{3,5})";\nvar route1 = new Route(callback, "Any", expr);\nvar route2 = new Route(callback, "Any", new Regex(expr));\n')),Object(i.b)("h3",{id:"using-parameterized-strings"},"Using Parameterized Strings"),Object(i.b)("p",null,"You can put route parameters in the route template by enclosing them within ",Object(i.b)("inlineCode",{parentName:"p"},"{}")," curly braces."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(callback, "Any", "/users/{id}");\n')),Object(i.b)("p",null,"In the above example, the route would respond to calls made to all of ",Object(i.b)("inlineCode",{parentName:"p"},"/users/1234"),", ",Object(i.b)("inlineCode",{parentName:"p"},"/users/rudy")," and ",Object(i.b)("inlineCode",{parentName:"p"},"/users/1a2b3c"),", but not to ",Object(i.b)("inlineCode",{parentName:"p"},"/users")," or ",Object(i.b)("inlineCode",{parentName:"p"},"/users/1234/rudy"),"."),Object(i.b)("p",null,"Route templates may contain more that one route parameter, and you can have more than one route parameter in a route segment, however route parameters ",Object(i.b)("strong",{parentName:"p"},"must")," be separated by a literal value and ",Object(i.b)("strong",{parentName:"p"},"must")," have a name unique to the route template. Literal text other than the route parameter and path separator must match the text in the URL."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'// This will not fail, but it will cause unexpected behavior because\n// there is no literal value between route parameters.\nvar route = new Route(callback, "Any", "/{resource}{id}");\n\n// This will cause a runtime exception because route parameter\n// names are not unique to the template.\nvar route = new Route(callback, "Any", "/{id}/{id}");\n\n// This will work just fine.\nvar route = new Route(callback, "Any", "/{resource}/{id}");\n')),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"If you need to match a literal route parameter delimiter ",Object(i.b)("inlineCode",{parentName:"p"},"{")," or ",Object(i.b)("inlineCode",{parentName:"p"},"}")," in your route template, it is recommended that you use a regular expression."))),Object(i.b)("h3",{id:"route-parameter-constraints"},"Route Parameter Constraints"),Object(i.b)("p",null,"Route parameters may have constraints that must match the route value bound from the URL. Adding ",Object(i.b)("inlineCode",{parentName:"p"},":")," and constraint name after the route parameter name specifies an inline constraint on a route parameter. If the constraint requires arguments, they're enclosed in parentheses ",Object(i.b)("inlineCode",{parentName:"p"},"(...)")," after the constraint name."),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(i.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"Route constraints are not intended to be used for input validation, but to disabmiguate between similar routes. If constraints are used for input validation, invalid input results in a 404 Not Found response, when it should instead produce a 400 Bad Request response."))),Object(i.b)("p",null,"The following table lists the built-in route constraints and their behavior. All inline constraints can have an additional length constraint added to it by appending another ",Object(i.b)("inlineCode",{parentName:"p"},":")," and the length constraint name (",Object(i.b)("inlineCode",{parentName:"p"},"minlength"),", ",Object(i.b)("inlineCode",{parentName:"p"},"maxlength")," and ",Object(i.b)("inlineCode",{parentName:"p"},"length"),")."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"constraint"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Example"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Example Matches"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Notes"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"alpha")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{greeting:alpha}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"hello")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"All uppercase and lower case letters.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"alphanum")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{err-code:alphanum}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"Z1152a")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"All letters, numbers and the underscore ",Object(i.b)("inlineCode",{parentName:"td"},"_"),".")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"guid")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{id:guid}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"14c412f0-bf7e-41c0-a6a1-d6165079ec8d")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Matches guids with and without dashes, as well as with or without enclosing ",Object(i.b)("inlineCode",{parentName:"td"},"{")," ",Object(i.b)("inlineCode",{parentName:"td"},"}")," or ",Object(i.b)("inlineCode",{parentName:"td"},"(")," ",Object(i.b)("inlineCode",{parentName:"td"},")"),".")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"num")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{id:num}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"1234"),", ",Object(i.b)("inlineCode",{parentName:"td"},"90210")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"An unlimited number of digits")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"string")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{type:string}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"Gr@p3v1ne~")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"An unlimited length of any text that isn't the route segement seperator ",Object(i.b)("inlineCode",{parentName:"td"},"/"),". This is the default constraint applied if none is specified when using the length constraints, or if the constraint specified is not otherwise found.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"minlength(n)")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{name:minlength(5)}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"Samantha")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"String must be at least ",Object(i.b)("inlineCode",{parentName:"td"},"n")," characters in length.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"maxlength(n)")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{name:maxlength(20)}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"Samantha")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"String must be no more than ",Object(i.b)("inlineCode",{parentName:"td"},"n")," characters in length.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"length(n)")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{state:length(2)}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"NE"),", ",Object(i.b)("inlineCode",{parentName:"td"},"OH")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"String must be exactly ",Object(i.b)("inlineCode",{parentName:"td"},"n")," characters in length.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"length(m,n)")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"{name:length(5,20)}")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"Samantha")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"String must be between ",Object(i.b)("inlineCode",{parentName:"td"},"m")," and ",Object(i.b)("inlineCode",{parentName:"td"},"n")," characters in length.")))),Object(i.b)("h2",{id:"accessing-route-parameter-values"},"Accessing Route Parameter Values"),Object(i.b)("p",null,"Route parameter values are accessed via keys on the ",Object(i.b)("inlineCode",{parentName:"p"},"IHttpRequest.PathParameters")," property. All values are strings that will need to be cast to other types as required."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"If your route template was a literal string, there will not be any key/value pairs"),Object(i.b)("li",{parentName:"ul"},"If your route template was a regular expression string, the key for each capture groups will be the string ",Object(i.b)("inlineCode",{parentName:"li"},"p-")," followed by the number of the capture group, e.g. ",Object(i.b)("inlineCode",{parentName:"li"},"p-0"),", ",Object(i.b)("inlineCode",{parentName:"li"},"p-1"),", etc."),Object(i.b)("li",{parentName:"ul"},"If your route template was a parameterized string, the the key will be the name you used for the parameter.")),Object(i.b)("p",null,"You can add keys to route templates that were generated from regular expressions by adding them, in order, to the ",Object(i.b)("inlineCode",{parentName:"p"},"IRoute.RouteTemplate.PatternKeys")," list."),Object(i.b)("h2",{id:"limit-route-matching-using-headers"},"Limit Route Matching Using Headers"),Object(i.b)("p",null,"You can also further limit whether a route is matched to a request based on the value of any header. The method call takes the header key as a string and a regular expression to match the value. Only one regular expression can be defined per header value."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(callback, "Get", "/some/path")\n    .WithHeader("Host", new Regex(@"^localhost:1234$"));\n')),Object(i.b)("p",null,"This method is chainable, so you can add as many header conditions as needed."),Object(i.b)("h2",{id:"enable-and-disable-routes"},"Enable And Disable Routes"),Object(i.b)("p",null,"Routes can be enabled and disabled. Only enabled routes will be matched by the router, and only enabled routes will be invoked."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = new Route(callback, "Get", "/some/path", false)\n    .Enable()   // extension method\n    .Disable(); // extension method\n\n// Direct property access\nroute.Enabled = true\n')),Object(i.b)("h2",{id:"route-name-and-description"},"Route Name and Description"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Name")," and ",Object(i.b)("inlineCode",{parentName:"p"},"Description")," properties are primarily used in output when debugging and logging. You can change them at any time. You can also use the ",Object(i.b)("inlineCode",{parentName:"p"},"Name")," property to retrieve a route from the routing table on the router. While uniquness is not required, it would be helpful in this last case if your route names are unique."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-csharp"}),'var route = server.Router.RoutingTable\n    .Where(r => r.Name == "Some Unique Name")\n    .FirstOrDefault();\n')))}s.isMDXComponent=!0},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),s=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},d=function(e){var t=s(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),d=s(a),p=n,m=d["".concat(o,".").concat(p)]||d[p]||u[p]||i;return a?r.a.createElement(m,c(c({ref:t},b),{},{components:a})):r.a.createElement(m,c({ref:t},b))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var b=2;b<i;b++)o[b]=a[b];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);